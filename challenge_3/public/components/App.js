import FormContainer1 from './FormContainer1.js';
import FormContainer2 from './FormContainer2.js';
import FormContainer3 from './FormContainer3.js';
import Button from './Button.js';
import Confirmation from './Confirmation.js';

class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      name: '',
      email: '',
      password: '',
      address1: '',
      address2: '',
      city: '',
      state: '',
      zip: '',
      phone: '',
      cardNumber: '',
      expiration: '',
      cvv: '',
      billingZip: '',
      page: 0
    };

    this.handleChange = this.handleChange.bind(this);
    this.handleNext = this.handleNext.bind(this);
    this.handleSubmit = this.handleSubmit.bind(this);
  }

  handleChange(e) {
    let newState = function () {
      let obj = {};
      obj[e.target.name] = e.target.value;
      return obj;
    };

    this.setState(newState());
  }

  handleNext(e) {
    console.log('HANDLE NEXT');
    if (e.target.className === 'nextButton') {
      this.setState(prevState => {
        return prevState.page++;
      });
    } else if (e.target.className === 'submitButton') {
      this.setState(prevState => {
        return prevState.page = 0;
      });
    }
  }

  handleSubmit(e) {
    let purchaseData = JSON.stringify(Object.assign({}, this.state));

    this.setState({
      name: '',
      email: '',
      password: '',
      address1: '',
      address2: '',
      city: '',
      state: '',
      zip: '',
      phone: '',
      cardNumber: '',
      expiration: '',
      cvv: '',
      billingZip: '',
      page: 0
    });

    fetch('/userData', {
      method: 'POST',
      headers: { "Content-Type": "application/JSON; charset=utf-8" },
      body: purchaseData
    }).then(response => {
      console.log(response);
    });
  }

  render() {
    let currentView = this.state.page;
    let form;

    if (currentView === 0) {
      form = React.createElement(Button, { className: 'nextButton', handleNext: this.handleNext, buttonName: 'Checkout' });
    } else if (currentView === 1) {
      form = React.createElement(FormContainer1, { handleChange: this.handleChange, handleNext: this.handleNext, name: this.state.name, email: this.state.email, password: this.state.password });
    } else if (currentView === 2) {
      form = React.createElement(FormContainer2, { handleChange: this.handleChange, handleNext: this.handleNext, address1: this.state.address1, address2: this.state.address2,
        city: this.state.city, state: this.state.state, zip: this.state.zip, phone: this.state.phone });
    } else if (currentView === 3) {
      form = React.createElement(FormContainer3, { handleChange: this.handleChange, handleNext: this.handleNext, cardNumber: this.state.cardNumber, expiration: this.state.expiration,
        cvv: this.state.cvv, billingZip: this.state.billingZip });
    } else if (currentView === 4) {
      form = React.createElement(Confirmation, { purchaseInfo: this.state, handleSubmit: this.handleSubmit });
    }

    return React.createElement(
      'div',
      { className: 'main-container' },
      React.createElement(
        'h1',
        null,
        'React Form'
      ),
      form
    );
  }
}

export default App;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2NsaWVudC9jb21wb25lbnRzL0FwcC5qc3giXSwibmFtZXMiOlsiRm9ybUNvbnRhaW5lcjEiLCJGb3JtQ29udGFpbmVyMiIsIkZvcm1Db250YWluZXIzIiwiQnV0dG9uIiwiQ29uZmlybWF0aW9uIiwiQXBwIiwiUmVhY3QiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwic3RhdGUiLCJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsImFkZHJlc3MxIiwiYWRkcmVzczIiLCJjaXR5IiwiemlwIiwicGhvbmUiLCJjYXJkTnVtYmVyIiwiZXhwaXJhdGlvbiIsImN2diIsImJpbGxpbmdaaXAiLCJwYWdlIiwiaGFuZGxlQ2hhbmdlIiwiYmluZCIsImhhbmRsZU5leHQiLCJoYW5kbGVTdWJtaXQiLCJlIiwibmV3U3RhdGUiLCJvYmoiLCJ0YXJnZXQiLCJ2YWx1ZSIsInNldFN0YXRlIiwiY29uc29sZSIsImxvZyIsImNsYXNzTmFtZSIsInByZXZTdGF0ZSIsInB1cmNoYXNlRGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJPYmplY3QiLCJhc3NpZ24iLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwidGhlbiIsInJlc3BvbnNlIiwicmVuZGVyIiwiY3VycmVudFZpZXciLCJmb3JtIl0sIm1hcHBpbmdzIjoiQUFBQSxPQUFPQSxjQUFQLE1BQTJCLHFCQUEzQjtBQUNBLE9BQU9DLGNBQVAsTUFBMkIscUJBQTNCO0FBQ0EsT0FBT0MsY0FBUCxNQUEyQixxQkFBM0I7QUFDQSxPQUFPQyxNQUFQLE1BQW1CLGFBQW5CO0FBQ0EsT0FBT0MsWUFBUCxNQUF5QixtQkFBekI7O0FBRUEsTUFBTUMsR0FBTixTQUFrQkMsTUFBTUMsU0FBeEIsQ0FBa0M7QUFDaENDLGNBQVlDLEtBQVosRUFBbUI7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFNBQUtDLEtBQUwsR0FBYTtBQUNYQyxZQUFNLEVBREs7QUFFWEMsYUFBTyxFQUZJO0FBR1hDLGdCQUFVLEVBSEM7QUFJWEMsZ0JBQVUsRUFKQztBQUtYQyxnQkFBVSxFQUxDO0FBTVhDLFlBQU0sRUFOSztBQU9YTixhQUFPLEVBUEk7QUFRWE8sV0FBSyxFQVJNO0FBU1hDLGFBQU8sRUFUSTtBQVVYQyxrQkFBWSxFQVZEO0FBV1hDLGtCQUFZLEVBWEQ7QUFZWEMsV0FBSyxFQVpNO0FBYVhDLGtCQUFZLEVBYkQ7QUFjWEMsWUFBTTtBQWRLLEtBQWI7O0FBaUJBLFNBQUtDLFlBQUwsR0FBb0IsS0FBS0EsWUFBTCxDQUFrQkMsSUFBbEIsQ0FBdUIsSUFBdkIsQ0FBcEI7QUFDQSxTQUFLQyxVQUFMLEdBQWtCLEtBQUtBLFVBQUwsQ0FBZ0JELElBQWhCLENBQXFCLElBQXJCLENBQWxCO0FBQ0EsU0FBS0UsWUFBTCxHQUFvQixLQUFLQSxZQUFMLENBQWtCRixJQUFsQixDQUF1QixJQUF2QixDQUFwQjtBQUNEOztBQUdERCxlQUFhSSxDQUFiLEVBQWdCO0FBQ2QsUUFBSUMsV0FBVyxZQUFXO0FBQ3hCLFVBQUlDLE1BQU0sRUFBVjtBQUNBQSxVQUFJRixFQUFFRyxNQUFGLENBQVNwQixJQUFiLElBQXFCaUIsRUFBRUcsTUFBRixDQUFTQyxLQUE5QjtBQUNBLGFBQU9GLEdBQVA7QUFDRCxLQUpEOztBQU1BLFNBQUtHLFFBQUwsQ0FBY0osVUFBZDtBQUNEOztBQUVESCxhQUFXRSxDQUFYLEVBQWM7QUFDWk0sWUFBUUMsR0FBUixDQUFZLGFBQVo7QUFDQSxRQUFJUCxFQUFFRyxNQUFGLENBQVNLLFNBQVQsS0FBdUIsWUFBM0IsRUFBeUM7QUFDdkMsV0FBS0gsUUFBTCxDQUFjSSxhQUFhO0FBQ3pCLGVBQU9BLFVBQVVkLElBQVYsRUFBUDtBQUNELE9BRkQ7QUFHRCxLQUpELE1BSU8sSUFBSUssRUFBRUcsTUFBRixDQUFTSyxTQUFULEtBQXVCLGNBQTNCLEVBQTJDO0FBQ2hELFdBQUtILFFBQUwsQ0FBY0ksYUFBYTtBQUN6QixlQUFPQSxVQUFVZCxJQUFWLEdBQWlCLENBQXhCO0FBQ0QsT0FGRDtBQUdEO0FBQ0Y7O0FBRURJLGVBQWFDLENBQWIsRUFBZ0I7QUFDZCxRQUFJVSxlQUFlQyxLQUFLQyxTQUFMLENBQWVDLE9BQU9DLE1BQVAsQ0FBYyxFQUFkLEVBQWtCLEtBQUtoQyxLQUF2QixDQUFmLENBQW5COztBQUVBLFNBQUt1QixRQUFMLENBQWM7QUFDWnRCLFlBQU0sRUFETTtBQUVaQyxhQUFPLEVBRks7QUFHWkMsZ0JBQVUsRUFIRTtBQUlaQyxnQkFBVSxFQUpFO0FBS1pDLGdCQUFVLEVBTEU7QUFNWkMsWUFBTSxFQU5NO0FBT1pOLGFBQU8sRUFQSztBQVFaTyxXQUFLLEVBUk87QUFTWkMsYUFBTyxFQVRLO0FBVVpDLGtCQUFZLEVBVkE7QUFXWkMsa0JBQVksRUFYQTtBQVlaQyxXQUFLLEVBWk87QUFhWkMsa0JBQVksRUFiQTtBQWNaQyxZQUFNO0FBZE0sS0FBZDs7QUFpQkFvQixVQUFNLFdBQU4sRUFBbUI7QUFDakJDLGNBQVEsTUFEUztBQUVqQkMsZUFBUyxFQUFDLGdCQUFnQixpQ0FBakIsRUFGUTtBQUdqQkMsWUFBTVI7QUFIVyxLQUFuQixFQUlHUyxJQUpILENBSVNDLFFBQUQsSUFBYztBQUNwQmQsY0FBUUMsR0FBUixDQUFZYSxRQUFaO0FBQ0QsS0FORDtBQU9EOztBQUVEQyxXQUFTO0FBQ1AsUUFBSUMsY0FBYyxLQUFLeEMsS0FBTCxDQUFXYSxJQUE3QjtBQUNBLFFBQUk0QixJQUFKOztBQUVBLFFBQUlELGdCQUFnQixDQUFwQixFQUF1QjtBQUNyQkMsYUFBTyxvQkFBQyxNQUFELElBQVEsV0FBVyxZQUFuQixFQUFpQyxZQUFZLEtBQUt6QixVQUFsRCxFQUE4RCxZQUFZLFVBQTFFLEdBQVA7QUFDRCxLQUZELE1BRU8sSUFBSXdCLGdCQUFnQixDQUFwQixFQUF1QjtBQUM1QkMsYUFBTyxvQkFBQyxjQUFELElBQWdCLGNBQWMsS0FBSzNCLFlBQW5DLEVBQWlELFlBQVksS0FBS0UsVUFBbEUsRUFBOEUsTUFBTSxLQUFLaEIsS0FBTCxDQUFXQyxJQUEvRixFQUFxRyxPQUFPLEtBQUtELEtBQUwsQ0FBV0UsS0FBdkgsRUFBOEgsVUFBVSxLQUFLRixLQUFMLENBQVdHLFFBQW5KLEdBQVA7QUFDRCxLQUZNLE1BRUEsSUFBSXFDLGdCQUFnQixDQUFwQixFQUF1QjtBQUM1QkMsYUFBTyxvQkFBQyxjQUFELElBQWdCLGNBQWMsS0FBSzNCLFlBQW5DLEVBQWlELFlBQVksS0FBS0UsVUFBbEUsRUFBOEUsVUFBVSxLQUFLaEIsS0FBTCxDQUFXSSxRQUFuRyxFQUE2RyxVQUFVLEtBQUtKLEtBQUwsQ0FBV0ssUUFBbEk7QUFDQyxjQUFNLEtBQUtMLEtBQUwsQ0FBV00sSUFEbEIsRUFDd0IsT0FBTyxLQUFLTixLQUFMLENBQVdBLEtBRDFDLEVBQ2lELEtBQUssS0FBS0EsS0FBTCxDQUFXTyxHQURqRSxFQUNzRSxPQUFPLEtBQUtQLEtBQUwsQ0FBV1EsS0FEeEYsR0FBUDtBQUVELEtBSE0sTUFHQSxJQUFJZ0MsZ0JBQWdCLENBQXBCLEVBQXVCO0FBQzVCQyxhQUFPLG9CQUFDLGNBQUQsSUFBZ0IsY0FBYyxLQUFLM0IsWUFBbkMsRUFBaUQsWUFBWSxLQUFLRSxVQUFsRSxFQUE4RSxZQUFZLEtBQUtoQixLQUFMLENBQVdTLFVBQXJHLEVBQWlILFlBQVksS0FBS1QsS0FBTCxDQUFXVSxVQUF4STtBQUNDLGFBQUssS0FBS1YsS0FBTCxDQUFXVyxHQURqQixFQUNzQixZQUFZLEtBQUtYLEtBQUwsQ0FBV1ksVUFEN0MsR0FBUDtBQUVELEtBSE0sTUFHQSxJQUFJNEIsZ0JBQWdCLENBQXBCLEVBQXVCO0FBQzVCQyxhQUFPLG9CQUFDLFlBQUQsSUFBYyxjQUFjLEtBQUt6QyxLQUFqQyxFQUF3QyxjQUFjLEtBQUtpQixZQUEzRCxHQUFQO0FBQ0Q7O0FBRUQsV0FDRTtBQUFBO0FBQUEsUUFBSyxXQUFVLGdCQUFmO0FBQ0U7QUFBQTtBQUFBO0FBQUE7QUFBQSxPQURGO0FBRUd3QjtBQUZILEtBREY7QUFNRDtBQXRHK0I7O0FBeUdsQyxlQUFlOUMsR0FBZiIsImZpbGUiOiJBcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRm9ybUNvbnRhaW5lcjEgZnJvbSAnLi9Gb3JtQ29udGFpbmVyMS5qcyc7XG5pbXBvcnQgRm9ybUNvbnRhaW5lcjIgZnJvbSAnLi9Gb3JtQ29udGFpbmVyMi5qcyc7XG5pbXBvcnQgRm9ybUNvbnRhaW5lcjMgZnJvbSAnLi9Gb3JtQ29udGFpbmVyMy5qcyc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJy4vQnV0dG9uLmpzJztcbmltcG9ydCBDb25maXJtYXRpb24gZnJvbSAnLi9Db25maXJtYXRpb24uanMnO1xuXG5jbGFzcyBBcHAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbmFtZTogJycsXG4gICAgICBlbWFpbDogJycsXG4gICAgICBwYXNzd29yZDogJycsXG4gICAgICBhZGRyZXNzMTogJycsXG4gICAgICBhZGRyZXNzMjogJycsXG4gICAgICBjaXR5OiAnJyxcbiAgICAgIHN0YXRlOiAnJyxcbiAgICAgIHppcDogJycsXG4gICAgICBwaG9uZTogJycsXG4gICAgICBjYXJkTnVtYmVyOiAnJyxcbiAgICAgIGV4cGlyYXRpb246ICcnLFxuICAgICAgY3Z2OiAnJyxcbiAgICAgIGJpbGxpbmdaaXA6ICcnLFxuICAgICAgcGFnZTogMFxuICAgIH1cblxuICAgIHRoaXMuaGFuZGxlQ2hhbmdlID0gdGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZU5leHQgPSB0aGlzLmhhbmRsZU5leHQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZVN1Ym1pdCA9IHRoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcyk7XG4gIH1cblxuXG4gIGhhbmRsZUNoYW5nZShlKSB7XG4gICAgbGV0IG5ld1N0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICBsZXQgb2JqID0ge307XG4gICAgICBvYmpbZS50YXJnZXQubmFtZV0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSgpKTtcbiAgfVxuXG4gIGhhbmRsZU5leHQoZSkge1xuICAgIGNvbnNvbGUubG9nKCdIQU5ETEUgTkVYVCcpXG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTmFtZSA9PT0gJ25leHRCdXR0b24nKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHByZXZTdGF0ZSA9PiB7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGUucGFnZSsrO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChlLnRhcmdldC5jbGFzc05hbWUgPT09ICdzdWJtaXRCdXR0b24nKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHByZXZTdGF0ZSA9PiB7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGUucGFnZSA9IDA7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVTdWJtaXQoZSkge1xuICAgIGxldCBwdXJjaGFzZURhdGEgPSBKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlKSk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG5hbWU6ICcnLFxuICAgICAgZW1haWw6ICcnLFxuICAgICAgcGFzc3dvcmQ6ICcnLFxuICAgICAgYWRkcmVzczE6ICcnLFxuICAgICAgYWRkcmVzczI6ICcnLFxuICAgICAgY2l0eTogJycsXG4gICAgICBzdGF0ZTogJycsXG4gICAgICB6aXA6ICcnLFxuICAgICAgcGhvbmU6ICcnLFxuICAgICAgY2FyZE51bWJlcjogJycsXG4gICAgICBleHBpcmF0aW9uOiAnJyxcbiAgICAgIGN2djogJycsXG4gICAgICBiaWxsaW5nWmlwOiAnJyxcbiAgICAgIHBhZ2U6IDBcbiAgICB9KTtcblxuICAgIGZldGNoKCcvdXNlckRhdGEnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL0pTT047IGNoYXJzZXQ9dXRmLThcIn0sXG4gICAgICBib2R5OiBwdXJjaGFzZURhdGFcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCBjdXJyZW50VmlldyA9IHRoaXMuc3RhdGUucGFnZTtcbiAgICBsZXQgZm9ybTtcblxuICAgIGlmIChjdXJyZW50VmlldyA9PT0gMCkge1xuICAgICAgZm9ybSA9IDxCdXR0b24gY2xhc3NOYW1lPXsnbmV4dEJ1dHRvbid9IGhhbmRsZU5leHQ9e3RoaXMuaGFuZGxlTmV4dH0gYnV0dG9uTmFtZT17J0NoZWNrb3V0J30gLz47XG4gICAgfSBlbHNlIGlmIChjdXJyZW50VmlldyA9PT0gMSkge1xuICAgICAgZm9ybSA9IDxGb3JtQ29udGFpbmVyMSBoYW5kbGVDaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfSBoYW5kbGVOZXh0PXt0aGlzLmhhbmRsZU5leHR9IG5hbWU9e3RoaXMuc3RhdGUubmFtZX0gZW1haWw9e3RoaXMuc3RhdGUuZW1haWx9IHBhc3N3b3JkPXt0aGlzLnN0YXRlLnBhc3N3b3JkfSAvPjtcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRWaWV3ID09PSAyKSB7XG4gICAgICBmb3JtID0gPEZvcm1Db250YWluZXIyIGhhbmRsZUNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9IGhhbmRsZU5leHQ9e3RoaXMuaGFuZGxlTmV4dH0gYWRkcmVzczE9e3RoaXMuc3RhdGUuYWRkcmVzczF9IGFkZHJlc3MyPXt0aGlzLnN0YXRlLmFkZHJlc3MyfSBcbiAgICAgICAgICAgICAgY2l0eT17dGhpcy5zdGF0ZS5jaXR5fSBzdGF0ZT17dGhpcy5zdGF0ZS5zdGF0ZX0gemlwPXt0aGlzLnN0YXRlLnppcH0gcGhvbmU9e3RoaXMuc3RhdGUucGhvbmV9IC8+O1xuICAgIH0gZWxzZSBpZiAoY3VycmVudFZpZXcgPT09IDMpIHtcbiAgICAgIGZvcm0gPSA8Rm9ybUNvbnRhaW5lcjMgaGFuZGxlQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZX0gaGFuZGxlTmV4dD17dGhpcy5oYW5kbGVOZXh0fSBjYXJkTnVtYmVyPXt0aGlzLnN0YXRlLmNhcmROdW1iZXJ9IGV4cGlyYXRpb249e3RoaXMuc3RhdGUuZXhwaXJhdGlvbn0gXG4gICAgICAgICAgICAgIGN2dj17dGhpcy5zdGF0ZS5jdnZ9IGJpbGxpbmdaaXA9e3RoaXMuc3RhdGUuYmlsbGluZ1ppcH0gLz47XG4gICAgfSBlbHNlIGlmIChjdXJyZW50VmlldyA9PT0gNCkge1xuICAgICAgZm9ybSA9IDxDb25maXJtYXRpb24gcHVyY2hhc2VJbmZvPXt0aGlzLnN0YXRlfSBoYW5kbGVTdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fS8+XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFpbi1jb250YWluZXJcIj5cbiAgICAgICAgPGgxPlJlYWN0IEZvcm08L2gxPlxuICAgICAgICB7Zm9ybX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXBwO1xuXG4iXX0=